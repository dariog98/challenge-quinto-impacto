drop database if exists challenge;
-- start transaction;
-- rollback;
create database challenge;
-- show tables;
use challenge;

-- Tablas
create table user (
    id int auto_increment primary key,
    username varchar(15) not null unique,
    password varchar(60) not null,
    names varchar(50) null,
    surnames varchar(50) null,
    dni varchar(8) null unique,
    birthdate date null,
    phone varchar(20) null,
    address varchar(150) null
);

create table classtime (
    id int auto_increment primary key,
    description varchar(30) not null
);

create table professor (
    id int auto_increment primary key,
    names varchar(50) null,
    surnames varchar(50) null,
    dni varchar(8) not null unique,
    birthdate date not null,
    phone varchar(20) null,
    address varchar(150) null
);

create table student (
    id int auto_increment primary key,
    names varchar(50) null,
    surnames varchar(50) null,
    dni varchar(8) not null unique,
    birthdate date not null,
    phone varchar(20) null,
    address varchar(150) null
);

create table class (
    id int auto_increment primary key,
    description varchar(30) not null,
    professor_id int null,
    classtime_id int null,
    constraint fk_class_professor_id foreign key (professor_id) references professor(id),
    constraint fk_class_classtime_id foreign key (classtime_id) references classtime(id)
);

create table student_class (
    student_id int not null,
    class_id int not null,
    constraint fk_student_class_student_id foreign key (student_id) references student(id),
    constraint fk_student_class_class_id foreign key (class_id) references class(id),
    unique key uq_student_class_student_id_class_id (student_id, class_id)
);

insert into classtime (description)
values
("Mañana"),
("Tarde"),
("Noche");

insert into professor (names, surnames, dni, birthdate, phone, address)
values
('Deborah', 'Rowett', 47517546, '2005-04-06', '+358 138 283 6718', '77980 Jay Lane'),
('Wilmer', 'Glyne', 40841233, '2014-10-19', '+244 564 944 4754', '3 Pond Park'),
('Gram', 'Comelini', 49729433, '1998-06-30', '+265 347 252 1268', '4371 Longview Avenue'),
('Jaquenetta', 'Allone', 41920206, '2009-12-26', '+63 756 224 2887', '548 Debra Terrace'),
('Vikki', 'Sprulls', 48339842, '1999-01-04', '+880 835 475 4120', '00171 Service Drive'),
('Marty', 'Whitmore', 47438423, '2007-06-21', '+55 745 698 0353', '28454 Division Drive'),
('Sarah', 'Lasslett', 48631832, '2013-04-20', '+86 185 880 7826', '5592 Hagan Park'),
('Killian', 'Ballefant', 49246348, '2008-10-14', '+30 313 414 2014', '7599 Waywood Parkway'),
('Corabel', 'Byk', 41366461, '2019-08-21', '+238 948 873 8660', '45114 Kropf Center'),
('Florida', 'Briant', 43965199, '1998-03-12', '+86 270 154 1366', '82526 Scott Center'),
('Maxwell', 'Laverock', 40550126, '2018-12-04', '+962 844 715 4393', '69828 Russell Pass'),
('Glenine', 'Kirkebye', 44586980, '2021-03-28', '+33 754 405 5091', '55400 Carey Alley'),
('Mose', 'Gerardin', 46937502, '2010-03-27', '+380 715 370 9495', '661 Swallow Drive'),
('Sunny', 'Merali', 48877792, '1995-06-30', '+63 528 597 5247', '292 Carberry Center'),
('Ag', 'Dowsey', 47023543, '2008-05-14', '+55 537 755 7987', '30 Mcbride Point'),
('Bevon', 'Wyndham', 48724150, '2001-12-10', '+7 168 958 5103', '15619 Debs Point'),
('Taffy', 'Bubear', 43444853, '2002-07-21', '+86 341 899 2323', '75635 Ramsey Court'),
('Zackariah', 'Simpkiss', 47014981, '2020-02-26', '+62 344 189 8834', '51558 North Circle');

insert into student (names, surnames, dni, birthdate, phone, address)
values
('Timothee', 'Gerhts', 43105247, '2008-08-08', '+86 526 901 4548', '3714 Riverside Way'),
('Myca', 'Ceyssen', 43975037, '1997-04-03', '+54 527 587 5723', '82593 Colorado Court'),
('Dasie', 'Vose', 46143135, '2008-02-20', '+62 875 711 2567', '28 Blaine Junction'),
('Rollie', 'Menelaws', 47301725, '2011-11-14', '+48 524 879 6665', '05345 Blue Bill Park Way'),
('Karyn', 'Allston', 47758713, '1994-09-22', '+597 968 853 7401', '46058 Westridge Crossing'),
('Hayes', 'Derham', 46434701, '2010-09-23', '+86 503 856 5584', '454 Fordem Alley'),
('Allene', 'Sharphurst', 44702421, '2010-04-27', '+81 284 951 5616', '1 Elgar Alley'),
('Hildy', 'O'' Culligan', 42112503, '1998-10-27', '+86 127 890 1103', '3 Prairieview Trail'),
('Melisandra', 'Ashbee', 42299571, '2004-06-02', '+86 633 337 8377', '4073 Sunnyside Trail'),
('Orlan', 'McAleese', 44401945, '2000-05-07', '+62 531 697 8592', '6584 Leroy Road'),
('Jackqueline', 'Drohun', 46878255, '1996-05-11', '+7 903 663 0749', '4 Delaware Lane'),
('Kacey', 'Inglese', 43753259, '2007-02-20', '+86 816 331 3595', '1 Bunker Hill Hill'),
('Kleon', 'Coote', 45937189, '2011-07-15', '+57 326 411 0029', '5797 Eagan Road'),
('Rosalinda', 'Chessell', 49022874, '2013-08-20', '+7 860 160 4445', '99 Doe Crossing Hill'),
('Gertruda', 'Grabham', 40740574, '2004-10-21', '+66 749 796 5210', '9308 Duke Park'),
('Petey', 'Hatherley', 47676670, '2022-01-09', '+375 346 567 2315', '2 Barnett Plaza'),
('Wilhelmina', 'Pratty', 40102932, '2013-11-23', '+229 231 895 2898', '20222 Ludington Place'),
('Jeanette', 'Gulleford', 43329084, '2014-10-05', '+62 830 193 3748', '91050 Nevada Circle'),
('Elizabet', 'Ghelardoni', 45535579, '1996-11-23', '+86 754 587 8728', '536 Fair Oaks Crossing'),
('Adam', 'Pearson', 41684974, '2005-08-15', '+7 961 196 3902', '0 Northview Road'),
('Charisse', 'Hartegan', 41024574, '2007-10-29', '+48 865 108 6709', '9539 Hanson Park'),
('Lyndell', 'Eggers', 46977553, '2006-11-27', '+504 383 823 3599', '3712 Lien Court'),
('Cord', 'Farnish', 48675825, '2004-09-02', '+86 738 167 5450', '4 Washington Way'),
('Baron', 'Kohneke', 44367510, '1994-07-10', '+86 915 465 4214', '37 Brown Park'),
('Arnuad', 'Painten', 49957100, '2007-03-14', '+86 727 584 7503', '44 Forest Dale Pass'),
('Godart', 'Pickard', 49530343, '1996-12-20', '+63 654 823 9342', '14 Maywood Parkway'),
('Mitzi', 'Dunnett', 40505164, '1997-08-03', '+380 618 623 1472', '161 Anniversary Point'),
('Leighton', 'Andrysiak', 40237409, '2005-02-27', '+86 944 189 2820', '0645 Melody Lane'),
('Lazaro', 'Errichelli', 45298337, '1998-01-20', '+1 615 403 1739', '78279 Northland Plaza'),
('Rycca', 'Dellar', 40924173, '2001-06-13', '+81 307 517 1896', '506 Hanover Point'),
('Tobi', 'McGenis', 47622241, '2018-08-28', '+86 744 991 4349', '982 Mallory Trail'),
('Cly', 'Errowe', 44967302, '1998-11-14', '+62 953 186 3091', '049 Magdeline Street'),
('Vonnie', 'Linton', 48456099, '1994-06-29', '+86 728 249 4618', '108 Reinke Plaza'),
('Jason', 'Noden', 41964588, '2016-05-21', '+63 842 576 6998', '5 Buena Vista Pass'),
('Harley', 'Imrie', 47938463, '1999-08-31', '+93 373 208 1539', '24 Carberry Plaza'),
('Ferne', 'Iacoboni', 44012340, '2013-08-29', '+39 596 493 8492', '099 1st Court'),
('Yuma', 'Whylie', 44642857, '2007-06-01', '+46 230 474 0434', '9 Crest Line Terrace'),
('Caresse', 'Rubinovitch', 43650831, '2008-12-16', '+33 867 496 4022', '539 Tomscot Plaza'),
('Clement', 'Lis', 44839694, '1999-01-09', '+62 872 724 6920', '34 Evergreen Center'),
('Riley', 'Shuttle', 48676339, '2020-10-19', '+66 618 202 2261', '224 Buena Vista Pass'),
('Kristien', 'Alessandretti', 40868602, '1994-01-16', '+56 301 538 3467', '9387 East Avenue'),
('Pren', 'Dodamead', 41803845, '1998-03-08', '+7 587 413 3632', '1793 Charing Cross Road'),
('Oliy', 'Rentenbeck', 46921236, '2003-08-22', '+30 859 638 4276', '59 Loftsgordon Street'),
('Stafani', 'Fitzackerley', 43744396, '2009-10-06', '+961 993 806 5697', '02862 Cascade Plaza'),
('Pietrek', 'Beteriss', 49150087, '2002-05-19', '+86 922 134 3398', '770 Waxwing Crossing'),
('Umberto', 'Caswall', 46292625, '2004-07-03', '+62 560 731 9045', '8251 Westerfield Junction'),
('Camile', 'Mattersley', 48232883, '2013-08-03', '+30 447 911 0488', '132 Crest Line Circle'),
('Corenda', 'Kaveney', 44035878, '2008-06-29', '+355 793 844 6121', '43100 Mallory Trail'),
('Vasilis', 'Jupe', 47550642, '1998-05-27', '+98 864 650 2729', '24 Lunder Drive'),
('Alyce', 'Corzor', 48643644, '1994-12-11', '+86 341 795 9345', '9 Farragut Lane'),
('Artus', 'Lauchlan', 43822875, '2011-01-27', '+62 114 300 0722', '8764 Moose Place'),
('Clarette', 'Arstall', 42600916, '2006-12-22', '+63 998 352 5935', '5358 1st Road'),
('Cecily', 'Geeve', 46659393, '2016-03-20', '+595 110 474 9108', '87 Springs Plaza'),
('Cameron', 'Legan', 47886050, '1991-02-11', '+63 800 777 4893', '4 Hermina Place'),
('Sylvan', 'Sellack', 47251574, '2014-04-11', '+976 607 701 1395', '8278 Autumn Leaf Circle'),
('Ezechiel', 'Crapper', 42936586, '2019-05-09', '+64 628 918 6288', '9977 Melody Point'),
('Hinze', 'Crolly', 44378463, '1997-05-11', '+351 993 425 3163', '0 Declaration Trail'),
('Maiga', 'Klemensiewicz', 46529704, '2017-09-01', '+63 665 589 2358', '5 Eagle Crest Road'),
('Tommie', 'Grafton-Herbert', 41787428, '2001-02-11', '+86 106 382 3086', '41 Oxford Street'),
('Patric', 'Johannes', 47881428, '1998-05-24', '+33 972 871 3494', '2 Maywood Drive'),
('Tallou', 'Lenaghen', 46784712, '2012-10-22', '+55 733 900 6295', '90260 Glendale Junction'),
('Roxie', 'Reichartz', 46347990, '2004-09-04', '+963 454 382 1371', '53 Forest Dale Center'),
('Lilas', 'Rickson', 45855523, '1999-10-12', '+595 326 551 6980', '0327 Charing Cross Place'),
('Charis', 'Saunders', 42904213, '2007-09-16', '+62 667 186 3640', '711 Summerview Plaza'),
('Gillan', 'Kenworthy', 44363999, '2012-03-17', '+63 574 419 7748', '85 Fuller Circle'),
('Willyt', 'Hirschmann', 47888272, '2019-06-03', '+55 632 143 9701', '9 Moland Crossing'),
('Josias', 'Jarman', 48356341, '2012-05-13', '+46 920 775 9328', '76743 Mockingbird Junction'),
('Coretta', 'Rabjohns', 46984884, '2013-06-26', '+81 411 391 8332', '54350 Swallow Place'),
('Starr', 'Rounce', 43028374, '2022-02-20', '+225 414 666 8002', '2 Corscot Hill'),
('Tessie', 'Moyers', 42163062, '2014-10-02', '+374 695 867 0509', '90 Corry Avenue'),
('Hagen', 'Lesser', 40798468, '2009-01-25', '+54 131 579 5210', '60 Summerview Crossing'),
('Micki', 'Davidow', 44660865, '2022-06-18', '+63 601 330 0005', '2 Spenser Lane'),
('Vivyanne', 'Smewings', 40256095, '2007-06-05', '+57 318 483 7536', '373 Westport Road'),
('Geoffry', 'Saphir', 41430844, '2013-09-17', '+62 751 965 0966', '95939 Holy Cross Park'),
('Sabrina', 'Siveyer', 49206118, '1999-10-23', '+63 390 775 6161', '86 Johnson Drive'),
('Kory', 'Paty', 46908236, '1992-07-16', '+62 565 193 2529', '887 Kim Terrace'),
('Christabella', 'Scarce', 41545422, '2019-11-03', '+358 508 904 7867', '03687 John Wall Avenue'),
('Marijn', 'Ghidoli', 46914328, '2019-12-20', '+30 288 100 8812', '4644 Mifflin Avenue'),
('Barbey', 'Crick', 41295685, '2015-01-29', '+86 542 849 1916', '7 Burrows Pass'),
('Laraine', 'Odney', 46419747, '2015-10-17', '+963 596 228 2923', '75446 Kipling Place'),
('Valerie', 'Basford', 45273176, '1999-05-03', '+62 903 939 9181', '55415 Pierstorff Alley'),
('Ashlin', 'Sedcole', 45610683, '2017-09-26', '+33 397 973 5031', '3 Clemons Avenue'),
('Juan', 'Jamary', 44303927, '2011-11-14', '+86 993 195 2494', '317 Di Loreto Park'),
('Ursuline', 'Eburah', 48014248, '2013-07-28', '+389 320 791 4083', '7580 Meadow Ridge Road'),
('Ryon', 'Janatka', 44699010, '2003-08-15', '+230 337 852 2061', '901 Nancy Road'),
('Vite', 'Hoyland', 43354729, '2019-08-09', '+62 961 209 9275', '5 Longview Alley'),
('Ethelbert', 'Mackneis', 49907712, '2000-05-13', '+36 267 185 3457', '0405 Pawling Street'),
('Corena', 'Lubeck', 40050729, '2016-12-08', '+86 125 175 5972', '2493 Badeau Terrace'),
('Sherman', 'Gilston', 42833171, '1995-12-26', '+86 168 580 8777', '9 Hoard Trail'),
('Willabella', 'Hartzog', 43803248, '2012-09-09', '+226 275 624 7784', '88 Grayhawk Court'),
('Sheila', 'Danilovic', 45839763, '1993-12-24', '+505 170 470 1719', '47 Namekagon Junction'),
('Rock', 'Huerta', 43062113, '2009-08-19', '+98 430 681 5319', '738 Cherokee Lane'),
('Sigismund', 'Euesden', 40865028, '1995-01-01', '+380 196 341 8987', '58759 Sauthoff Crossing'),
('Der', 'Regus', 49608980, '2011-04-23', '+86 761 590 8008', '1917 Almo Way'),
('Cornie', 'Simionato', 43235698, '2001-05-22', '+86 636 591 7394', '021 Michigan Parkway'),
('Evelin', 'Hambidge', 43462937, '1990-12-29', '+66 177 111 6263', '76 Larry Hill'),
('Bear', 'Mullaney', 47045317, '2008-04-13', '+62 768 294 3624', '72412 Ronald Regan Crossing'),
('Giorgio', 'Tythacott', 40803712, '2000-06-26', '+218 239 588 2307', '303 Crownhardt Circle'),
('Dorelle', 'Dun', 43728380, '2020-03-26', '+502 419 535 3376', '2 Glendale Parkway'),
('Marina', 'Courtenay', 41342082, '2007-05-14', '+355 428 525 3852', '538 Laurel Parkway'),
('Wilmer', 'Cluett', 42239953, '1994-11-17', '+54 537 136 8063', '227 Mockingbird Lane'),
('Ketty', 'Kienl', 44928079, '2009-02-22', '+62 932 519 2511', '25354 Mandrake Lane'),
('Raphaela', 'Snarr', 46475742, '1999-10-08', '+385 267 965 2378', '5 Kinsman Point'),
('Englebert', 'De Metz', 41094631, '1990-01-20', '+86 593 280 2329', '45 Corscot Alley'),
('Kaylyn', 'Batman', 47903731, '2017-01-20', '+7 482 123 6967', '2523 Arkansas Pass'),
('Dione', 'Philp', 47051320, '2013-10-25', '+63 766 590 5817', '4412 Hoffman Street'),
('Josselyn', 'Jeandillou', 42273854, '2002-04-01', '+46 421 714 5983', '9580 Lillian Point'),
('Nicolas', 'Lindelof', 42326237, '2010-03-08', '+47 946 520 7482', '9362 Briar Crest Trail'),
('Karna', 'Dupree', 46118578, '2004-05-06', '+351 917 547 1718', '3816 Maple Trail'),
('Geoff', 'Ebbrell', 44929728, '1995-01-17', '+86 680 861 9725', '3681 Roxbury Road'),
('Melodie', 'Lupton', 43993159, '2007-05-31', '+255 744 220 7283', '9 Anthes Center'),
('Emelina', 'Curphey', 44343394, '1992-05-07', '+216 977 579 6657', '53184 Hoepker Alley'),
('Sarene', 'Randle', 47395003, '1999-12-11', '+56 424 862 7347', '0 Graceland Junction'),
('Sibbie', 'Ionn', 49469198, '2014-10-03', '+62 206 105 2381', '0 5th Parkway'),
('Valaree', 'Nevill', 45134406, '1996-08-08', '+62 798 384 1782', '6873 Mandrake Crossing'),
('Kane', 'McGenis', 44971977, '1994-08-17', '+1 304 741 9541', '0948 Loftsgordon Way'),
('Teodoro', 'Bowle', 44907128, '2016-10-28', '+86 302 268 3045', '6 Doe Crossing Trail'),
('Alia', 'Bayless', 42888439, '2009-01-02', '+86 391 195 8166', '4286 Scoville Park'),
('Quincey', 'Winders', 49676681, '2001-02-04', '+386 563 429 0263', '1 Talisman Place'),
('Alfons', 'Cleft', 47185525, '1993-08-09', '+66 424 981 0619', '88386 Warrior Place'),
('Lettie', 'Stango', 45240616, '2015-11-09', '+880 255 321 5153', '4139 Kennedy Street'),
('Rheba', 'Woolatt', 47111512, '2008-04-28', '+7 214 620 1463', '6 Lien Pass'),
('Renell', 'Watchorn', 45553707, '1997-06-03', '+995 357 377 4744', '9 Birchwood Alley'),
('Moises', 'Witson', 47474898, '2019-07-09', '+52 800 647 2472', '7592 Anderson Parkway'),
('Elaine', 'Snashall', 40139490, '2018-08-03', '+86 597 963 3390', '07005 Claremont Trail'),
('Billie', 'Mosten', 46651355, '2021-10-25', '+82 383 760 3103', '4838 Mallard Junction'),
('Marisa', 'Limming', 44535662, '2007-08-22', '+992 715 893 9003', '7462 Cambridge Pass'),
('Jenilee', 'Hughman', 47581614, '2019-08-20', '+7 814 365 3234', '36 Boyd Avenue'),
('Raeann', 'Yearnes', 48172206, '1999-06-19', '+387 366 652 9013', '644 Di Loreto Terrace'),
('Codie', 'Leamy', 44705691, '1995-05-29', '+63 829 590 0385', '07 Aberg Point'),
('Barron', 'Winfield', 47570638, '1994-04-24', '+27 228 862 7156', '0 Di Loreto Terrace'),
('Helen', 'Fuxman', 47555286, '1999-07-20', '+86 413 593 5944', '716 Starling Alley'),
('Saundra', 'Gerriet', 46710932, '1995-03-16', '+62 847 991 2683', '67 Badeau Crossing'),
('Janaya', 'Polkinghorne', 45868408, '2006-03-11', '+46 368 209 0329', '7 Gulseth Pass'),
('Wilhelmina', 'Foulks', 49110929, '1992-09-18', '+30 416 507 8915', '8302 Spaight Street'),
('Cher', 'Frisch', 49296748, '2004-10-24', '+55 960 277 1338', '46805 Sundown Center'),
('Keene', 'Zanre', 43503154, '1992-12-03', '+57 332 852 6327', '1843 Sunfield Way'),
('Syd', 'Bittleson', 42025085, '2004-06-25', '+351 436 902 7111', '8 Morrow Hill'),
('Conrado', 'MacPadene', 49698125, '2015-12-01', '+63 390 324 9480', '9957 Ludington Hill'),
('Jasen', 'Honsch', 42125401, '2009-05-28', '+86 429 116 1369', '663 Ronald Regan Street'),
('Goldia', 'Bamblett', 43689854, '2013-04-22', '+63 391 608 5471', '4003 Ridgeway Circle'),
('Isabel', 'Alsford', 47989804, '2011-02-15', '+351 673 822 3564', '10 Victoria Terrace'),
('Skippy', 'Guerriero', 41508319, '2000-04-13', '+380 691 680 7926', '854 Russell Circle'),
('Brnaby', 'Stych', 43306352, '2016-11-08', '+963 245 437 6886', '3 Buhler Lane'),
('Thoma', 'Haigh', 48992540, '2004-03-02', '+66 168 849 0283', '36231 Glendale Point');

insert into class (description, classtime_id)
values
("Literatura", 1),
("Matemática", 2),
("Inglés", 3),
("Geografía", 1),
("Contabilidad", 2),
("Computación", 3),
("Portugues", 2),
("Ética", 1),
("Historia", 1);

insert into student_class (student_id, class_id)
values

(19, 2),
(21, 4),
(85, 1),
(94, 1),
(16, 5),
(123, 8),
(91, 7),
(51, 7),
(82, 2),
(109, 6),
(96, 7),
(127, 1),
(34, 9),
(29, 5),
(18, 6),
(145, 5),
(11, 6),
(41, 7),
(23, 7),
(33, 3),
(137, 9),
(115, 3),
(65, 8),
(55, 6),
(23, 6),
(134, 9),
(27, 5),
(78, 6),
(66, 2),
(16, 4),
(132, 6),
(70, 2),
(88, 4),
(47, 4),
(36, 1),
(122, 9),
(103, 4),
(50, 9),
(126, 4),
(18, 7),
(104, 2),
(64, 3),
(128, 4),
(65, 5),
(62, 2),
(77, 9),
(59, 7),
(87, 7),
(1, 4),
(40, 4),
(4, 9),
(129, 4),
(54, 2),
(86, 5),
(89, 5),
(120, 1),
(45, 8),
(27, 1),
(1, 1),
(2, 1),
(3, 1),
(4, 1),
(5, 1),
(6, 1),
(7, 1),
(8, 1),
(9, 1),
(10, 1);